{"ast":null,"code":"import { Router } from '@angular/router';\nimport { openCloseAnimation, rotateAnimation } from './menu-item.animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nfunction MenuItemComponent_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 3);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@rotate\", ctx_r0.isMenuExtended);\n  }\n}\nfunction MenuItemComponent_ul_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 4)(1, \"li\", 5)(2, \"a\", 6);\n    i0.ɵɵelement(3, \"i\", 7);\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@openClose\", ctx_r1.isMenuExtended);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", item_r2.path)(\"routerLinkActive\", \"active\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.name);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    active: a0\n  };\n};\nexport class MenuItemComponent {\n  constructor(router) {\n    this.router = router;\n    this.menuItem = null;\n    this.isExpandable = false;\n    this.isNavItem = true;\n    this.isMenuExtended = false;\n    this.isMainActive = true;\n    this.isOneOfChildrenActive = false;\n  }\n  ngOnInit() {\n    if (this.menuItem && this.menuItem.children && this.menuItem.children.length > 0) {\n      this.isExpandable = true;\n    }\n    // this.calculateIsActive(this.router.url);\n    // this.router.events\n    //     .pipe(filter((event) => event instanceof NavigationEnd))\n    //     .subscribe((event: NavigationEnd) => {\n    //         this.calculateIsActive(event.url);\n    //     });\n  }\n\n  handleMainMenuAction() {\n    if (this.isExpandable) {\n      this.toggleMenu();\n      return;\n    }\n    this.router.navigate(this.menuItem.path);\n  }\n  toggleMenu() {\n    this.isMenuExtended = !this.isMenuExtended;\n  }\n  calculateIsActive(url) {\n    this.isMainActive = false;\n    this.isOneOfChildrenActive = false;\n    if (this.isExpandable) {\n      this.menuItem.children.forEach(item => {\n        if (item.path[0] === url) {\n          this.isOneOfChildrenActive = true;\n          this.isMenuExtended = true;\n        }\n      });\n    } else if (this.menuItem.path[0] === url) {\n      this.isMainActive = true;\n    }\n    if (!this.isMainActive && !this.isOneOfChildrenActive) {\n      this.isMenuExtended = false;\n    }\n  }\n  static #_ = this.ɵfac = function MenuItemComponent_Factory(t) {\n    return new (t || MenuItemComponent)(i0.ɵɵdirectiveInject(i1.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MenuItemComponent,\n    selectors: [[\"app-menu-item\"]],\n    hostVars: 4,\n    hostBindings: function MenuItemComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"nav-item\", ctx.isNavItem)(\"menu-open\", ctx.isMenuExtended);\n      }\n    },\n    inputs: {\n      menuItem: \"menuItem\"\n    },\n    decls: 6,\n    vars: 9,\n    consts: [[1, \"nav-link\", 3, \"ngClass\", \"click\"], [\"class\", \"right fas fa-angle-right\", 4, \"ngIf\"], [\"class\", \"nav nav-treeview\", 4, \"ngFor\", \"ngForOf\"], [1, \"right\", \"fas\", \"fa-angle-right\"], [1, \"nav\", \"nav-treeview\"], [1, \"nav-item\"], [1, \"nav-link\", 3, \"routerLink\", \"routerLinkActive\"], [1, \"far\", \"fa-circle\", \"nav-icon\"]],\n    template: function MenuItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"a\", 0);\n        i0.ɵɵlistener(\"click\", function MenuItemComponent_Template_a_click_0_listener() {\n          return ctx.handleMainMenuAction();\n        });\n        i0.ɵɵelement(1, \"i\");\n        i0.ɵɵelementStart(2, \"p\");\n        i0.ɵɵtext(3);\n        i0.ɵɵtemplate(4, MenuItemComponent_i_4_Template, 1, 1, \"i\", 1);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(5, MenuItemComponent_ul_5_Template, 6, 4, \"ul\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, ctx.isMainActive || ctx.isOneOfChildrenActive));\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassMapInterpolate1(\"nav-icon \", ctx.menuItem.iconClasses, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"\", ctx.menuItem.name, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isExpandable && ctx.menuItem.children.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.menuItem.children);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i1.RouterLink, i1.RouterLinkActive],\n    styles: [\"[_nghost-%COMP%] {\\n  cursor: pointer;\\n}\\n/*# sourceURL=webpack://./src/app/menu/menu-item/menu-item.component.scss */\\n/*# sourceURL=webpack://./../../../Project%20Square/Template/project_square/src/app/menu/menu-item/menu-item.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWVudS9tZW51LWl0ZW0vbWVudS1pdGVtLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vUHJvamVjdCUyMFNxdWFyZS9UZW1wbGF0ZS9wcm9qZWN0X3NxdWFyZS9zcmMvYXBwL21lbnUvbWVudS1pdGVtL21lbnUtaXRlbS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7QUNDSiIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufSIsIjpob3N0IHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n    data: {\n      animation: [openCloseAnimation, rotateAnimation]\n    }\n  });\n}","map":{"version":3,"mappings":"AACA,SAAuBA,MAAM,QAAO,iBAAiB;AAErD,SAAQC,kBAAkB,EAAEC,eAAe,QAAO,wBAAwB;;;;;;ICIlEC,uBAIK;;;;IADDA,+CAA0B;;;;;IAItCA,6BAAkG;IAOtFA,uBAAsC;IACtCA,yBAAG;IAAAA,YAAe;IAAAA,iBAAI;;;;;IARkCA,kDAA6B;IAGrFA,eAAwB;IAAxBA,yCAAwB;IAKrBA,eAAe;IAAfA,kCAAe;;;;;;;;ADX9B,OAAM,MAAOC,iBAAiB;EAQ1BC,YAAoBC,MAAc;IAAd,WAAM,GAANA,MAAM;IAPjB,aAAQ,GAAQ,IAAI;IACtB,iBAAY,GAAY,KAAK;IACL,cAAS,GAAY,IAAI;IACxB,mBAAc,GAAY,KAAK;IACxD,iBAAY,GAAY,IAAI;IAC5B,0BAAqB,GAAY,KAAK;EAER;EAErCC,QAAQ;IACJ,IACI,IAAI,CAACC,QAAQ,IACb,IAAI,CAACA,QAAQ,CAACC,QAAQ,IACtB,IAAI,CAACD,QAAQ,CAACC,QAAQ,CAACC,MAAM,GAAG,CAAC,EACnC;MACE,IAAI,CAACC,YAAY,GAAG,IAAI;;IAE5B;IACA;IACA;IACA;IACA;IACA;EACJ;;EAEOC,oBAAoB;IACvB,IAAI,IAAI,CAACD,YAAY,EAAE;MACnB,IAAI,CAACE,UAAU,EAAE;MACjB;;IAEJ,IAAI,CAACP,MAAM,CAACQ,QAAQ,CAAC,IAAI,CAACN,QAAQ,CAACO,IAAI,CAAC;EAC5C;EAEOF,UAAU;IACb,IAAI,CAACG,cAAc,GAAG,CAAC,IAAI,CAACA,cAAc;EAC9C;EAEOC,iBAAiB,CAACC,GAAW;IAChC,IAAI,CAACC,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,qBAAqB,GAAG,KAAK;IAClC,IAAI,IAAI,CAACT,YAAY,EAAE;MACnB,IAAI,CAACH,QAAQ,CAACC,QAAQ,CAACY,OAAO,CAAEC,IAAI,IAAI;QACpC,IAAIA,IAAI,CAACP,IAAI,CAAC,CAAC,CAAC,KAAKG,GAAG,EAAE;UACtB,IAAI,CAACE,qBAAqB,GAAG,IAAI;UACjC,IAAI,CAACJ,cAAc,GAAG,IAAI;;MAElC,CAAC,CAAC;KACL,MAAM,IAAI,IAAI,CAACR,QAAQ,CAACO,IAAI,CAAC,CAAC,CAAC,KAAKG,GAAG,EAAE;MACtC,IAAI,CAACC,YAAY,GAAG,IAAI;;IAE5B,IAAI,CAAC,IAAI,CAACA,YAAY,IAAI,CAAC,IAAI,CAACC,qBAAqB,EAAE;MACnD,IAAI,CAACJ,cAAc,GAAG,KAAK;;EAEnC;EAAC;qBAtDQZ,iBAAiB;EAAA;EAAA;UAAjBA,iBAAiB;IAAAmB;IAAAC;IAAAC;MAAA;;;;;;;;;;;;QCX9BtB,4BAIC;QAHGA;UAAA,OAASuB,0BAAsB;QAAA,EAAC;QAIhCvB,oBAAmD;QACnDA,yBAAG;QAAAA,YACC;QAAAA,8DAIK;QACTA,iBAAI;QAERA,gEAWK;;;QAtBDA,mGAA2D;QAExDA,eAA2C;QAA3CA,oEAA2C;QAC3CA,eACC;QADDA,iDACC;QACKA,eAAkD;QAAlDA,2EAAkD;QAMjBA,eAAoB;QAApBA,+CAAoB;;;;;;iBDLlD,CAACF,kBAAkB,EAAEC,eAAe;IAAC;EAAA","names":["Router","openCloseAnimation","rotateAnimation","i0","MenuItemComponent","constructor","router","ngOnInit","menuItem","children","length","isExpandable","handleMainMenuAction","toggleMenu","navigate","path","isMenuExtended","calculateIsActive","url","isMainActive","isOneOfChildrenActive","forEach","item","selectors","hostVars","hostBindings","ctx"],"sourceRoot":"","sources":["F:\\Projects\\Project Square\\Template\\project_square\\src\\app\\menu\\menu-item\\menu-item.component.ts","F:\\Projects\\Project Square\\Template\\project_square\\src\\app\\menu\\menu-item\\menu-item.component.html"],"sourcesContent":["import {Component, HostBinding, Input, OnInit} from '@angular/core';\nimport {NavigationEnd, Router} from '@angular/router';\nimport {filter} from 'rxjs/operators';\nimport {openCloseAnimation, rotateAnimation} from './menu-item.animations';\n\n@Component({\n    selector: 'app-menu-item',\n    templateUrl: './menu-item.component.html',\n    styleUrls: ['./menu-item.component.scss'],\n    animations: [openCloseAnimation, rotateAnimation]\n})\nexport class MenuItemComponent implements OnInit {\n    @Input() menuItem: any = null;\n    public isExpandable: boolean = false;\n    @HostBinding('class.nav-item') isNavItem: boolean = true;\n    @HostBinding('class.menu-open') isMenuExtended: boolean = false;\n    public isMainActive: boolean = true;\n    public isOneOfChildrenActive: boolean = false;\n\n    constructor(private router: Router) {}\n\n    ngOnInit() {\n        if (\n            this.menuItem &&\n            this.menuItem.children &&\n            this.menuItem.children.length > 0\n        ) {\n            this.isExpandable = true;\n        }\n        // this.calculateIsActive(this.router.url);\n        // this.router.events\n        //     .pipe(filter((event) => event instanceof NavigationEnd))\n        //     .subscribe((event: NavigationEnd) => {\n        //         this.calculateIsActive(event.url);\n        //     });\n    }\n\n    public handleMainMenuAction() {\n        if (this.isExpandable) {\n            this.toggleMenu();\n            return;\n        }\n        this.router.navigate(this.menuItem.path);\n    }\n\n    public toggleMenu() {\n        this.isMenuExtended = !this.isMenuExtended;\n    }\n\n    public calculateIsActive(url: string) {\n        this.isMainActive = false;\n        this.isOneOfChildrenActive = false;\n        if (this.isExpandable) {\n            this.menuItem.children.forEach((item) => {\n                if (item.path[0] === url) {\n                    this.isOneOfChildrenActive = true;\n                    this.isMenuExtended = true;\n                }\n            });\n        } else if (this.menuItem.path[0] === url) {\n            this.isMainActive = true;\n        }\n        if (!this.isMainActive && !this.isOneOfChildrenActive) {\n            this.isMenuExtended = false;\n        }\n    }\n}\n","<a\n    (click)=\"handleMainMenuAction()\"\n    class=\"nav-link\"\n    [ngClass]=\"{active: isMainActive || isOneOfChildrenActive}\"\n>\n    <i class=\"nav-icon {{ menuItem.iconClasses }}\"></i>\n    <p>{{ menuItem.name }}\n        <i\n            *ngIf=\"isExpandable && menuItem.children.length > 0\"\n            class=\"right fas fa-angle-right\"\n            [@rotate]=\"isMenuExtended\"\n        ></i>\n    </p>\n</a>\n<ul class=\"nav nav-treeview\" *ngFor=\"let item of menuItem.children\" [@openClose]=\"isMenuExtended\">\n    <li class=\"nav-item\">\n        <a\n            [routerLink]=\"item.path\"\n            [routerLinkActive]=\"'active'\"\n            class=\"nav-link\"\n        >\n            <i class=\"far fa-circle nav-icon\"></i>\n            <p>{{ item.name }}</p>\n        </a>\n    </li>\n</ul>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}